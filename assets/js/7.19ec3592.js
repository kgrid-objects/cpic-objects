(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{357:function(t,e,o){"use strict";o.r(e);var i=o(42),s=Object(i.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"deployment-of-cpic-collection"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#deployment-of-cpic-collection"}},[t._v("#")]),t._v(" Deployment of CPIC Collection")]),t._v(" "),o("p",[t._v("This document provides the detailed instructions to deploy the CPIC collection to the KGrid Activator. Once activated, the KOs will be accessible through the web API service.")]),t._v(" "),o("p",[t._v("Deployment of the CPIC collection takes place after the KGrid Activator is installed and running.")]),t._v(" "),o("p",[t._v("If the KGrid Activator needs to be installed, please refer to "),o("a",{attrs:{href:"https://kgrid.org/guides/quickstart/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Quick Start"),o("OutboundLink")],1),t._v(" for the information on how to install and start the Kgrid Activator.")]),t._v(" "),o("h2",{attrs:{id:"deploying-the-cpic-kos"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#deploying-the-cpic-kos"}},[t._v("#")]),t._v(" Deploying the CPIC KOs")]),t._v(" "),o("h3",{attrs:{id:"downloading-kos"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#downloading-kos"}},[t._v("#")]),t._v(" Downloading KOs")]),t._v(" "),o("p",[t._v("With the KGrid Activator running, presumably on http://localhost:8080, deploy the CPIC collection of KOs using the manifest, a JSON object appearing below:")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v('{\n  "manifest": [\n \t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-cp4mc9723sd-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-cp4mc9723se-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4058s74p-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk40k3kt35-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk44n0ds5c-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk45m7fn9t-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk47380j09-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk47h1x090-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk49z9gr7p-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk49z9gr7p-v0.0.4.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4bv8qb3r-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4bz6hp15-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4c83hw23-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4cx5fm8f-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4cz4fm8f-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4d22836k-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4d22836l-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4d51vd1p-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4d79nq4z-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4fn2d721-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4jw9m41b-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4m91fj9z-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4m95ek9z-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4mc97w0h-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4mc97w6m-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4md04x9z-0.1.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4mw3nw5p-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4qc17m5z-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4qj7sz2s-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4qj7sz2t-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4qz3fz89-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4r225c4h-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4rf6zx6d-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4sf40t7f-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4t167482-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4t85em9x-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4vq45s09-v0.3.0.zip",\n\t"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4w67pr0f-v0.3.0.zip"\n  ]\n}\n\n')])])]),o("p",[t._v("Using a "),o("code",[t._v("POST")]),t._v(" operation, send the manifest above as request body to the endpoint "),o("code",[t._v(t._s(t.url)+"/kos/manifest")]),t._v(", e.g. "),o("code",[t._v("http://localhost:8080/kos/manifest")]),t._v(".")]),t._v(" "),o("p",[t._v("When the "),o("code",[t._v("POST")]),t._v(" operation is run, the KGrid Activator will download all the zip files containing KOs in the manifest.")]),t._v(" "),o("p",[t._v("Examples of executing the POST operation with a manifest for downloading a single KO include:")]),t._v(" "),o("p",[t._v("For Linux/Mac")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v('curl -X POST "http://localhost:8080/kos/manifest" -H "accept: application/json" -H "Content-Type: application/json" -d "{\\"manifest\\":[\\"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4w67pr0f-v0.3.0.zip\\"]}"\n')])])]),o("p",[t._v("For Windows, using Powershell")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v('$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"\n$headers.Add("Content-Type", "application/json")\n\n$body = "{`"manifest`":[`"https://github.com/kgrid-objects/cpic-collection/releases/download/2.0.0/99999-fk4w67pr0f-v0.3.0.zip`"]}"\n\n$response = Invoke-RestMethod \'http://localhost:8080/kos/manifest\' -Method \'POST\' -Headers $headers -Body $body\n$response | ConvertTo-Json\n\n')])])]),o("p",[t._v("Modify the command above by replacing the single-object manifest with the manifest for the whole collection shown above.")]),t._v(" "),o("p",[t._v("Other tools, such as "),o("a",{attrs:{href:"https://www.getpostman.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Postman"),o("OutboundLink")],1),t._v(", can be used to perform the needed POST operation.")]),t._v(" "),o("h3",{attrs:{id:"activating-kos"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#activating-kos"}},[t._v("#")]),t._v(" Activating KOs")]),t._v(" "),o("p",[t._v("For Linux/Mac")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v('curl -X GET "http://localhost:8080/activate" -H "accept: application/json"\n')])])]),o("p",[t._v("For Windows, using Powershell")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("Invoke-RestMethod 'http://localhost:8080/activate' -Method 'GET'\n")])])]),o("p",[t._v("At this point, the CPIC KOs are activated and the endpoints they support are available for use.")]),t._v(" "),o("h2",{attrs:{id:"trying-the-cpic-kos"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#trying-the-cpic-kos"}},[t._v("#")]),t._v(" Trying the CPIC KOs")]),t._v(" "),o("p",[t._v("To try the CPIC KOs, use the activator and the freely-available Swagger Editor.")]),t._v(" "),o("ul",[o("li",[t._v("In a browser, to list all the endpoints on the activator, open a page at "),o("code",[t._v("http://localhost:8080/endpoints")]),t._v(";")]),t._v(" "),o("li",[t._v("Select an endpoint of interest, which will look like the endpoint shown below;")])]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v('{\n      "title": "CPIC doxepin Recommendations based on CYP2C19 and CYP2D6 phenotypes",\n      "endpointPath": "99999/fk4sf40t7f/dosingrecommendation?v=v0.3.0",\n      "servicePath": "99999/fk4sf40t7f/service",\n      "activated": "2019-12-20T10:09:16.535285",\n      "_links": {\n        "self": {\n          "href": "http://localhost:8080/endpoints/99999/fk4sf40t7f/dosingrecommendation?v=v0.3.0"\n        },\n        "swagger_editor": {\n          "href": "https://editor.swagger.io?url=http://localhost:8080/kos/99999/fk4sf40t7f/service"\n        }\n      }\n    }\n')])])]),o("ul",[o("li",[t._v("Copy the link for the "),o("code",[t._v("swagger_editor")]),t._v(" into a browser;")]),t._v(" "),o("li",[t._v("The selected "),o("code",[t._v("swagger_editor")]),t._v(" link will open the KO's service description in Swagger Editor. ("),o("a",{attrs:{href:"https://swagger.io/tools/swagger-ui/",target:"_blank",rel:"noopener noreferrer"}},[t._v("More information on Swagger UI"),o("OutboundLink")],1),t._v(")")]),t._v(" "),o("li",[t._v("In the Swagger Editor, click on the green button for "),o("code",[t._v("POST")]),t._v(";")]),t._v(" "),o("li",[t._v("Clicking on "),o("code",[t._v("Try it Out")]),t._v(" will provide the UI to interact with the endpoint.")])]),t._v(" "),o("p",[t._v("Congratulations! Your CPIC collection of KOs is deployed and working. You can now develop or integrate client applications that use the KOs as services powered by KGrid technology.")])])}),[],!1,null,null,null);e.default=s.exports}}]);